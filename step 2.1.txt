@File (app/api/stream/token/route.ts)
@File (components/dashboard/post-composer.tsx)
@File (app/(dashboard)/home/page.tsx)

LOG ANALYSIS: The PostComposer logs 'Post submitted successfully', but the feed is still empty. This is a FEED RELATIONSHIP and REFRESH issue. Fix it with this exact logic:

1. **FORCE FEED ALIGNMENT (SERVER-SIDE):**
   - In `app/api/stream/token/route.ts`, immediately after `streamClient.createUserToken(userId)`, add this:
     `await streamClient.feed('timeline', userId).follow('user', userId);`
   - This ensures the 'timeline' (Homepage) ALWAYS pulls data from the 'user' (Composer).

2. **CORRECT ACTIVITY PAYLOAD:**
   - In `post-composer.tsx`, ensure the `addActivity` call looks EXACTLY like this:
     ```typescript
     await userFeed.addActivity({
       actor: userId, // Must match the authenticated userId 'ade4'
       verb: 'post',
       object: content,
       category: category,
       attachments: uploadedImages,
       time: new Date().toISOString(),
     });
     ```

3. **HOMEPAGE FEED RE-INITIALIZATION:**
   - In `home/page.tsx`, use a `key` state for the Feed component.
   - After `PostComposer` finishes, call a function that updates this `key` to FORCE the entire Feed component to unmount and remount (Hard Refresh).

4. **IMMEDIATE FEED REFETCH:**
   - Add a 1-second delay after the success log, then trigger a manual `feed.get()` call to ensure the new post is captured.