@File (app/api/stream/token/route.ts)
@File (components/dashboard/post-composer.tsx)
@File (app/(dashboard)/home/page.tsx)
@File (lib/stream-service.ts)

I need a COMPLETE SYSTEM DEBUG and AUTO-FIX for the Stream.io feed. It's not working even after manual dashboard tweaks. 

### 1. DIAGNOSTIC LOGGING (Temporary)
- In `post-composer.tsx`, add detailed error handling inside the `handlePost` function. 
- Log the EXACT response from Stream when `addActivity` is called. 
- Log the `userId` being used to ensure it matches 'ade4' or the active Supabase user.

### 2. SERVER-SIDE SELF-HEALING (The Fix)
- In `app/api/stream/token/route.ts`, implement a "Sanity Check" before returning the token:
    a. Check if the 'notification' group has any 'following' selectors. If yes, use the Stream Admin SDK to PROGRAMMATICALLY DELETE them.
    b. Check if 'timeline:userId' is following 'user:userId'. If not, FORCE the follow relationship immediately.
    c. Verify the User Identity (name/avatar) is correctly synced to Stream's user database.

### 3. FEED FETCHING LOGIC
- In `home/page.tsx`, ensure the `FlatFeed` or custom feed component is explicitly targeting the 'timeline' group and 'userId'.
- Add a 'Manual Refresh' fallback that triggers if real-time subscription fails.

### 4. MEDIA MAPPING DEBUG
- Verify that when a photo is attached, the CDN URL is correctly stored in the `attachments` field of the Stream Activity, not just local state.